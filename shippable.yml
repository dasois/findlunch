# language setting
language: node_js

# version numbers, testing against multiple versions of node
node_js:
  - 0.10.30

branches:
  only:
    - ftr_testing

before_install:
    - cd /ionicApp
    - cd '/root/src/github.com/fr4gstar/findlunch/package.json'

build:
  ci:
    - npm install
    - mkdir -p shippable/testresults
    - mkdir -p shippable/codecoverage
    - mysql -e 'create database if not exists test;'

after_success:
  - mkdir -p shippable/testresults
  - mkdir -p shippable/codecoverage
  - mocha -R xunit >> coverage/result.xml
  - mv coverage/cobertura-coverage.xml shippable/codecoverage/coverage.xml
  - mv coverage/result.xml shippable/testresults/result.xml
